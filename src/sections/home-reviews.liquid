<style>
  #section--{{ section.id }} .section-reviews{
     background-color: {{ section.settings.bg-color }};
   }

  #section--{{ section.id }} .home-reviews__article-text{
      font-style: {{ section.settings.italic }};
    }

  #section--{{ section.id }} .home-reviews__grid{
      column-rule-color: {{ section.settings.separator-color }};
    }

  #section--{{ section.id }} .review__article{
         border-bottom: 1px solid {{ section.settings.separator-color }};
  }
  {% if section.settings.slider %}
     @media screen and (max-width: 800px) {
        #section--{{ section.id }} .review__article{
          border-bottom: 0;
        }
     }
  {% endif %}
</style>
<section id="section--{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="reviews">
  <div class="section-reviews">
   <div class="container-large">
     <div class="home-reviews__title-box {% unless section.settings.title-mobile %} desktop-only {% endunless%}">
       <h2 class="home-reviews__title">{{ section.settings.title }}</h2>
       <div class="home-reviews__subtitle">{{ section.settings.subtitle }}</div>
     </div>
     <div class="home-reviews__content home-reviews__grid">
       <div class="{% if section.settings.slider %} main-carousel carousel {% endif %}" data-flickity='{ "watchCSS": true, "pageDots": true,  "prevNextButtons": false }'>
         {%- assign blog = blogs[section.settings.blog] -%}
         {% for article in blog.articles %}
           <div class="review__article carousel-cell">
             <div class="reviews__stars">
                {% if article.tag == "star" %}
                        <li>{%- include 'star' -%}</li>
                    {% else %}
                        
                {% endif %}
                <ul>
                  <li>{%- include 'star' -%}</li>
                  <li>{%- include 'star' -%}</li>
                  <li>{%- include 'star' -%}</li>
                  <li>{%- include 'star' -%}</li>
                </ul>
             </div>
             <div class="home-reviews__article-text {% if section.settings.italic %} italic {% endif %}">
               {{ article.metafields.article.sup-title }}
             </div>
             <p class="home-reviews__article-name "> &#8213; {{ article.metafields.article.name }}, <span>{{ article.metafields.article.age }}</span></p>
             {% if handle contains 'test' %}
                <p>Shh! This is between you and us.</p>
              {% endif %}
             <h5 class="home-reviews__article-date">Published {{ "now" | date: "%b %d, %y" }}</h5>
             {% if article.image != blank %}
              <div class="home-reviews__image desktop-only">
                <img src="{{ article.image | img_url: 'master' }}" alt="">
              </div>
              {% endif %}
           </div>
         {% endfor %}
       </div>
     </div>
     {% if section.settings.button-link != blank %}
       <div class="container-button">
          <div class="button-primary"><a href="{{ section.settings.url }}"></a>{{ section.settings.button-link}}</div>
       </div>
     {% endif %}
   </div>
 </div>
</section>
{% schema %}
{
  "name": "Reviews",
  "settings": [
     {
       "type": "color",
       "id": "bg-color",
       "label": "label",
       "default": "#f6fbfa"
     },
     {
       "type": "color",
       "id": "separator-color",
       "label": "Seperator color",
       "info": "The color in between columns",
       "default": "#333e47"
     },
     {
       "type": "text",
       "id": "title",
       "label": "label",
       "default": "La communaut√©"
     },
     {
       "type": "richtext",
       "id": "subtitle",
       "label": "subtitle",
       "info": "info",
       "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>"
     },
     {
       "type": "checkbox",
       "id": "title-mobile",
       "label": "Show title in mobile",
       "default": false
     },
     {
       "type": "checkbox",
       "id": "italic",
       "label": "Text in italic",
       "default": true
     },
     {
       "type": "blog",
       "id": "blog",
       "label": "blog",
       "info": "Choose a blog"
     },
     {
        "type":      "range",
        "id":        "reviews",
        "min":       3,
        "max":       20,
        "step":      1,
        "label":     "Number of reviews",
        "default":   5
    },
    {
      "type": "checkbox",
      "id": "show-product",
      "label": "show products",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "slider",
      "label": "Slider in mobile",
      "default": false,
      "info": "If checked will show in a carousel in mobile"
    },
    {
      "type": "text",
      "id": "button-link",
      "label": "Button",
      "default": "Lire tous les avis"
    },
    {
      "type": "url",
      "id": "url",
      "label": "Button url"
    }
  ],
  "presets": [
      {
        "name": "Home Reviews",
        "category": "Homepage"
      }
    ]
}
{% endschema %}
